<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Menu</title>
  <link rel="icon" href="images/favicon.ico">
  <link rel="stylesheet" href="projekt.css">

  <style>
    .layout{
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 20px;
      max-width: 1300px;
      margin: 20px auto;
      padding: 20px;
      box-sizing: border-box;
    }

    .menu-col{
      background: var(--bg);
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 20px;
    }

    .cart-col{
      position: sticky;
      top: 90px;
      align-self: start;
      background: var(--bg);
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 20px;
      border: 2px solid var(--dark);
    }

    .cart-col h3{
      margin: 0 0 10px;
      color: var(--dark);
      text-align: center;
      font-size: 26px;
    }

    #koszyk{
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #koszyk li{
      display: flex;
      justify-content: space-between;
      gap: 10px;
      padding: 10px;
      border: 2px solid var(--dark);
      border-radius: 10px;
      background: var(--bg);
      align-items: center;
    }

    .cart-summary{
      margin-top: 12px;
      padding: 12px;
      border: 2px solid var(--dark);
      border-radius: 10px;
      background: var(--primary);
      color: var(--dark);
      font-weight: bold;
    }

    .cart-summary span{ font-weight: normal; }

    .cart-actions{
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }

    .cart-actions button{
      flex: 1;
    }

    .remove-btn{
      padding: 6px 10px;
      font-size: 12px;
    }
  </style>
</head>

<body>
  <header>
    <nav>
      <ul>
        <li><a href="index.html">Burgerownia</a></li>
        <li><a href="catalog.html">Menu</a></li>
        <li><a href="aboutUs.html">O restauracji</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="layout">
      <section class="menu-col">
        <h3>Menu</h3>

        <div class="menu-grid" id="produkty">

          <div class="menu-card produkt" data-id="1" data-nazwa="AvoBeko Burger" data-cena="32">
            <div class="img-box">
              <img src="images/avobeko-burger.webp" alt="AvoBeko Burger">
            </div>
            <div class="menu-content">
              <h4>AvoBeko Burger</h4>
              <p>Wołowina Black Angus, awokado, chrupiący boczek, ser Cheddar, pomidor, czerwona cebula, ogórek konserwowy, rukola, sos do wyboru, bułka do wyboru</p>
              <p><b>Cena:</b> 32 zł</p>
              <div class="menu-actions">
                <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
              </div>
            </div>
          </div>

          <div class="menu-card produkt" data-id="2" data-nazwa="SerBekon Burger" data-cena="31">
            <div class="img-box">
              <img src="images/serbekon-burger.webp" alt="SerBekon Burger">
            </div>
            <div class="menu-content">
              <h4>SerBekon Burger</h4>
              <p>Wołowina Black Angus, chrupiący boczek, ser Cheddar, czerwona cebula, pomidor, ogórek konserwowy, rukola, sos do wyboru, bułka do wyboru</p>
              <p><b>Cena:</b> 31 zł</p>
              <div class="menu-actions">
                <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
              </div>
            </div>
          </div>

          <div class="menu-card produkt" data-id="3" data-nazwa="Kozi Burger" data-cena="33">
            <div class="img-box">
              <img src="images/kozi-burger.webp" alt="Kozi Burger">
            </div>
            <div class="menu-content">
              <h4>Kozi Burger</h4>
              <p>Wołowina Black Angus, kremowy ser kozi, dżem cebulowy, żurawina, pomidor, rukola, sos do wyboru, bułka do wyboru</p>
              <p><b>Cena:</b> 33 zł</p>
              <div class="menu-actions">
                <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
              </div>
            </div>
          </div> ----------------------------------------------

          <div class="menu-card">
        <div class="img-box">
          <img src="images/avobeko-burger.webp" alt="AvoBeko Burger"> 
        </div>
        <div class="menu-content" data-id="1" data-nazwa="AvoBeko Burger" data-cena="41"> 
         
          <h4>AvoBeko Burger</h4> 
          <h5><b>41 zł</b></h5>
          <p>Wołowina Black Angus, awokado, chrupiący boczek, ser Cheddar, pomidor, czerwona cebula, ogórek konserwowy, rukola, sos do wyboru, bułka do wyboru</p>
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/serbekon-burger.webp" alt="SerBekon Burger">
        </div>
        <div class="menu-content" data-id="2" data-nazwa="SerBekon Burger" data-cena="43"> 
          <h4>SerBekon Burger</h4> 
          <h5><b>43 zł</b></h5>
          <p>Wołowina Black Angus, chrupiący boczek, ser Cheddar, czerwona cebula, pomidor, ogórek konserwowy, rukola, sos do wyboru, bułka do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/kozi-burger.webp" alt="Kozi Burger">
        </div>
        <div class="menu-content" data-id="3" data-nazwa="Kozi Burger" data-cena="39"> 
          <h4>Kozi Burger</h4> 
          <h5><b>39 zł</b></h5>
          <p>Wołowina Black Angus, kremowy ser kozi, dżem cebulowy, żurawina, pomidor, rukola, sos do wyboru, bułka do wyboru</p>
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/crispy-burger.webp" alt="Crispy Burger">
        </div>
        <div class="menu-content" data-id="4" data-nazwa="Crispy Burger" data-cena="46"> 
          <h4>Crispy Burger</h4> 
          <br><b>46 zł</b></br>
          <p>Wołowina Black Angus, chrupiący boczek, pikantne Chorizo, ser Cheddar, pomidor, ogórek konserwowy, rukola, prażona cebulka, sos do wyboru, bułka do wyboru</p>
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/smash-burger.webp" alt="Smash Burger">
        </div>
        <div class="menu-content" data-id="5" data-nazwa="Smash Burger" data-cena="32"> 
          <h4>Smash Burger</h4> 
          <br><b>32 zł</b></br>
          <p>100% grillowanej wołowiny, ser Cheddar, chrupiący bekon, pomidor, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/pastramix-nowosc.webp" alt="Pastramix – Nowość">
        </div>
        <div class="menu-content" data-id="6" data-nazwa="Pastramix – Nowość" data-cena="48"> 
          <h4>Pastramix – Nowość</h4> 
          <br><b>48 zł</b></br>
          <p>Wołowina Black Angus, 2× ser cheddar, pastrami, grillowana cebula, ogórek kiszony, sałata lodowa, sos musztardowo-chrzanowy</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/keto-on-burger.webp" alt="Keto-On Burger">
        </div>
        <div class="menu-content" data-id="7" data-nazwa="Keto-On Burger" data-cena="46"> 
          <h4>Keto-On Burger</h4> 
          <br><b>46 zł</b></br>
          <p>Wołowina Black Angus, ser cheddar, boczek, awokado, jajko sadzone, aioli, cebula grillowana, sałata lodowa, bułka keto</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/standard-burger.webp" alt="Standard Burger">
        </div>
        <div class="menu-content" data-id="8" data-nazwa="Standard Burger" data-cena="41"> 
          <h4>Standard Burger</h4> 
          <br><b>41 zł</b></br>
          <p>Wołowina Black Angus, pomidor, czerwona cebula, ogórek konserwowy, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/grillowane-warzywa-burger.webp" alt="Grillowane Warzywa Burger">
        </div>
        <div class="menu-content" data-id="9" data-nazwa="Grillowane Warzywa Burger" data-cena="38"> 
          <h4>Grillowane Warzywa Burger</h4> 
          <br>38 zł</br>
          <p>Kotlet z grillowanych warzyw, ser cheddar, pomidor, ogórek konserwowy, czerwona cebula, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/mini-new-york-burger.webp" alt="MINI New York Burger">
        </div>
        <div class="menu-content" data-id="10" data-nazwa="MINI New York Burger" data-cena="45"> 
          <h4>MINI New York Burger</h4> 
          <br><b>45 zł</b></br>
          <p>Wołowina Black Angus, ser cheddar, bekon, jajko sadzone, pomidor, cebula, ogórek, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/mini-standard-burger.webp" alt="MINI Standard Burger">
        </div>
        <div class="menu-content" data-id="11" data-nazwa="MINI Standard Burger" data-cena="35"> 
          <h4>MINI Standard Burger</h4> 
          <br><b>35 zł</b></br>
          <p>Wołowina Black Angus, pomidor, czerwona cebula, ogórek konserwowy, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>

      <div class="menu-card">
        <div class="img-box">
          <img src="images/avobeko-burger.webp" alt="MINI AvoBeko Burger">
        </div>
        <div class="menu-content" data-id="12" data-nazwa="MINI AvoBeko Burger" data-cena="37"> 
          <h4>MINI AvoBeko Burger </h4> 
          <br><b>37 zł</b></br>
          <p>Wołowina Black Angus, ser cheddar, bekon, awokado, pomidor, cebula, ogórek, rukola oraz sos do wyboru</p> 
          <button class="dodaj-do-koszyka">Dodaj do koszyka</button>
        </div>
      </div>
          
        </div>
      </section>

      <aside class="cart-col">
        <h3>Twój koszyk</h3>
        <ul id="koszyk"></ul>

        <div class="cart-summary">
          Liczba produktów: <span id="suma-sztuk">0</span><br>
          Suma do zapłaty: <span id="suma-cena">0</span> zł
        </div>

        <div class="cart-actions">
          <button id="clearCart">Wyczyść</button>
          <button id="saveCart">Zapisz</button>
        </div>
      </aside>
    </div>
  </main>

  <script>
    const koszyk = JSON.parse(localStorage.getItem("cart")) || [];
    const koszykList = document.getElementById("koszyk");
    const sumaSztuk = document.getElementById("suma-sztuk");
    const sumaCena = document.getElementById("suma-cena");

    function aktualizujKoszyk(){
      koszykList.innerHTML = "";
      let suma = 0, liczba = 0;

      koszyk.forEach((produkt, idx) => {
        const li = document.createElement("li");
        li.innerHTML = `
          <span>${produkt.nazwa} x${produkt.sztuk} – ${produkt.cena * produkt.sztuk} zł</span>
          <button class="remove-btn" onclick="usun(${idx})">Usuń</button>
        `;
        koszykList.appendChild(li);
        suma += produkt.cena * produkt.sztuk;
        liczba += produkt.sztuk;
      });

      sumaSztuk.textContent = liczba;
      sumaCena.textContent = suma;
    }

    function usun(idx){
      koszyk.splice(idx, 1);
      localStorage.setItem("cart", JSON.stringify(koszyk));
      aktualizujKoszyk();
    }

    document.querySelectorAll(".dodaj-do-koszyka").forEach(btn => {
      btn.addEventListener("click", function(){
        const el = this.closest(".produkt");
        const id = el.dataset.id;
        const nazwa = el.dataset.nazwa;
        const cena = parseFloat(el.dataset.cena);

        const istnieje = koszyk.find(p => p.id === id);
        if (istnieje) istnieje.sztuk += 1;
        else koszyk.push({ id, nazwa, cena, sztuk: 1 });

        localStorage.setItem("cart", JSON.stringify(koszyk));
        aktualizujKoszyk();
      });
    });

    document.getElementById("clearCart").addEventListener("click", () => {
      koszyk.length = 0;
      localStorage.setItem("cart", JSON.stringify(koszyk));
      aktualizujKoszyk();
    });

    document.getElementById("saveCart").addEventListener("click", () => {
      localStorage.setItem("cart", JSON.stringify(koszyk));
      alert("Koszyk zapisany.");
    });

    aktualizujKoszyk();
  </script>
</body>
</html>
