<!DOCTYPE html>
<html> 

    <style> 
    .summary {
        
    } 
    .koszykList{ 
        
    }
    </style>
    <head>
        <title>Koszyk</title>
        <link rel="icon" href="images/favicon.ico">
        <link rel="stylesheet" href="projekt.css">
        <script src="lverify.js"></script>
    </head>

    <body>
        <header>
            <nav>
                <ul>
                    <li>
                        <a href="index.html">Burgerownia</a>
                    </li>
                    <li>
                        <a href="catalog.html">Menu</a>
                    </li>
                    <li>
                        <a href="cart.html">Koszyk</a>
                    </li>
                    <li>
                        <a href="aboutUs.html">O restauracji</a>
                    </li>
                </ul>
            </nav>
        </header>

        <section id="cartSection">
  <h3>Twój Koszyk</h3>

  <ul id="koszykList"></ul>

  <div class="summary">
    Liczba sztuk: <span id="sumaSztuk">0</span><br>
    Łączna kwota: <span id="sumaCena">0 zł</span>
  </div>

  <div class="orderConfirmation">
    <button id="btncart" onclick="redirectToCheckout()">Zamów burgera</button>
  </div>
</section>

        <script>
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartTableBody = document.querySelector('#cartTable tbody');
            const totalPriceElement = document.getElementById('totalPrice');

            function renderCart() {
                cartTableBody.innerHTML = '';
                let totalPrice = 0;

                cart.forEach((item, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.title}</td>
                        <td>1 zł</td>
                        <td><button onclick="removeFromCart(${index})">Usuń</button></td>
                    `;
                    cartTableBody.appendChild(row);
                });

                totalPriceElement.textContent = `${totalPrice} zł`;
            }

            function removeFromCart(index) {
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCart();
            }

            function redirectToCheckout() {
                window.location.href = "orderconfirmation.html"; // Przekierowanie na stronę "checkout.html"
            }

            renderCart();
        </script> 

/*nasze */
        <script>
const koszyk = JSON.parse(localStorage.getItem('cart')) || [];
const koszykList = document.getElementById('koszykList');
const sumaSztuk = document.getElementById('sumaSztuk');
const sumaCena = document.getElementById('sumaCena');

function renderCart() {
  koszykList.innerHTML = '';
  let totalSztuk = 0;
  let totalCena = 0;

  koszyk.forEach((produkt, index) => {
    const li = document.createElement('li');
    li.innerHTML = `
      ${produkt.title} x${produkt.quantity} – ${produkt.price * produkt.quantity} zł
      <button onclick="removeFromCart(${index})">Usuń</button>
    `;
    koszykList.appendChild(li);

    totalSztuk += produkt.quantity;
    totalCena += produkt.price * produkt.quantity;
  });

  sumaSztuk.textContent = totalSztuk;
  sumaCena.textContent = totalCena + ' zł';
}

function removeFromCart(index) {
  koszyk.splice(index, 1);
  localStorage.setItem('cart', JSON.stringify(koszyk));
  renderCart();
}

function redirectToCheckout() {
  window.location.href = "orderconfirmation.html";
}

renderCart();
</script>
    </body>
</html>







